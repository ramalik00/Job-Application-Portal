{"ast":null,"code":"import axios from 'axios';\nimport { setAlert } from './alert';\nimport { addMyapplication } from './aprofile';\nimport { GET_JOBS, JOB_ERROR, CLEAR_JOBS, SEARCH_JOBS, SORT_JOBS, FILTER_JOBS, APPLY_JOB, EDIT_JOB, DELETE_JOB, GET_JOB } from './types'; // get all jobs\n\nexport const getJobs = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/job');\n    dispatch({\n      type: GET_JOBS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // get Job by Id\n\nexport const getJobById = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/job/${id}`);\n    dispatch({\n      type: GET_JOB,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // get applied jobs\n\nexport const getAppliedJobs = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/job/myapplications');\n    dispatch({\n      type: GET_JOBS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // get jobs made by recruiters\n\nexport const getMadeJobs = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/job/recruiter');\n    dispatch({\n      type: GET_JOBS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // add a job\n\nexport const addJob = (formData, history) => async dispatch => {\n  const config = {\n    'headers': {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    const res = await axios.post('/api/job', formData, config);\n    dispatch({\n      type: GET_JOBS,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Job Added\", \"success\"));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // clear jobs\n\nexport const clearJobs = () => async dispatch => {\n  try {\n    dispatch({\n      type: CLEAR_JOBS\n    });\n  } catch (err) {\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // search based on job title\n\nexport const searchTitle = search => async dispatch => {\n  try {\n    //dispatch(getJobs());\n    const res = await axios.get('/api/job');\n    dispatch({\n      type: SEARCH_JOBS,\n      payload: {\n        jobs: res.data,\n        search\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // sort jobs\n\nexport const sortJobs = sort => async dispatch => {\n  const sortArray = sort.split(' ');\n\n  try {\n    dispatch({\n      type: SORT_JOBS,\n      payload: {\n        att: sortArray[0],\n        n: parseInt(sortArray[1])\n      }\n    });\n  } catch (err) {\n    // console.log(err);\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // filter jobs\n\nexport const filterJobs = formData => async dispatch => {\n  const {\n    typeofjob,\n    usalary,\n    lsalary,\n    duration\n  } = formData;\n\n  try {\n    dispatch({\n      type: FILTER_JOBS,\n      payload: {\n        typeofjob,\n        usalary,\n        lsalary,\n        duration\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // apply job\n\nexport const applyJob = (id, sop, history) => async dispatch => {\n  const config = {\n    'headers': {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    sop\n  });\n\n  try {\n    const res = await axios.put(`/api/job/applications/${id}`, body, config);\n    dispatch({\n      type: APPLY_JOB,\n      payload: {\n        id,\n        applications: res.data\n      }\n    });\n    dispatch(addMyapplication(id, sop));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // edit job\n\nexport const editJob = (id, formData, history) => async dispatch => {\n  const config = {\n    'headers': {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    const res = await axios.put(`/api/job/edit/${id}`, formData, config);\n    dispatch({\n      type: EDIT_JOB,\n      payload: {\n        id,\n        job: res.data\n      }\n    });\n    dispatch(setAlert(\"Job Edit\", \"success\"));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // delete a job\n\nexport const deleteJob = id => async dispatch => {\n  try {\n    await axios.delete(`/api/job/delete/${id}`);\n    dispatch({\n      type: DELETE_JOB,\n      payload: id\n    });\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // rate job\n\nexport const rateJob = (rate, id) => async dispatch => {\n  const config = {\n    'headers': {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    rate\n  });\n\n  try {\n    await axios.put(`/api/job/rate/${id}`, body, config);\n    dispatch(getAppliedJobs());\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n    }\n\n    dispatch({\n      type: JOB_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/home/rahul/JobApplication/frontend/src/actions/job.js"],"names":["axios","setAlert","addMyapplication","GET_JOBS","JOB_ERROR","CLEAR_JOBS","SEARCH_JOBS","SORT_JOBS","FILTER_JOBS","APPLY_JOB","EDIT_JOB","DELETE_JOB","GET_JOB","getJobs","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","getJobById","id","getAppliedJobs","getMadeJobs","addJob","formData","history","config","post","push","errors","forEach","error","clearJobs","searchTitle","search","jobs","sortJobs","sort","sortArray","split","att","n","parseInt","filterJobs","typeofjob","usalary","lsalary","duration","applyJob","sop","body","JSON","stringify","put","applications","editJob","job","deleteJob","delete","rateJob","rate"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { setAlert } from './alert';\nimport { addMyapplication } from './aprofile';\n\nimport {\n    GET_JOBS,\n    JOB_ERROR,\n    CLEAR_JOBS,\n    SEARCH_JOBS,\n    SORT_JOBS,\n    FILTER_JOBS,\n    APPLY_JOB,\n    EDIT_JOB,\n    DELETE_JOB,\n    GET_JOB,\n} from './types';\n\n// get all jobs\nexport const getJobs = () => async dispatch => {\n    try {\n        const res = await axios.get('/api/job');\n        dispatch({\n            type: GET_JOBS,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        })\n    }\n};\n\n// get Job by Id\nexport const getJobById = (id) => async dispatch => {\n    try {\n        const res = await axios.get(`/api/job/${id}`);\n        dispatch({\n            type: GET_JOB,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        })\n    }\n};\n\n// get applied jobs\nexport const getAppliedJobs = () => async dispatch => {\n    try {\n        const res = await axios.get('/api/job/myapplications');\n        dispatch({\n            type: GET_JOBS,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        })\n    }\n};\n\n// get jobs made by recruiters\nexport const getMadeJobs = () => async dispatch => {\n    try {\n        const res = await axios.get('/api/job/recruiter');\n        dispatch({\n            type: GET_JOBS,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        })\n    }\n}\n\n// add a job\nexport const addJob = (formData, history) => async dispatch => {\n    const config = {\n        'headers': {\n            'Content-Type': 'application/json',\n        }\n    };\n    try {\n        const res = await axios.post('/api/job', formData, config);\n        dispatch({\n            type: GET_JOBS,\n            payload: res.data\n        });\n        dispatch(setAlert(\"Job Added\", \"success\"));\n\n        history.push('/dashboard');\n\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// clear jobs\nexport const clearJobs = () => async dispatch => {\n    try {\n        dispatch({\n            type: CLEAR_JOBS\n        });\n    } catch (err) {\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n}\n\n// search based on job title\nexport const searchTitle = (search) => async dispatch => {\n    try {\n        //dispatch(getJobs());\n        const res = await axios.get('/api/job');\n        dispatch({\n            type: SEARCH_JOBS,\n            payload: { jobs: res.data, search }\n        })\n    } catch (err) {\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n}\n\n// sort jobs\nexport const sortJobs = (sort) => async dispatch => {\n    const sortArray = sort.split(' ');\n\n    try {\n        dispatch({\n            type: SORT_JOBS,\n            payload: { att: sortArray[0], n: parseInt(sortArray[1]) }\n        })\n    } catch (err) {\n        // console.log(err);\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n}\n\n// filter jobs\nexport const filterJobs = (formData) => async dispatch => {\n    const { typeofjob, usalary, lsalary, duration } = formData;\n    try {\n        dispatch({\n            type: FILTER_JOBS,\n            payload: { typeofjob, usalary, lsalary, duration }\n        });\n    } catch (err) {\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n}\n\n// apply job\nexport const applyJob = (id, sop, history) => async dispatch => {\n    const config = {\n        'headers': {\n            'Content-Type': 'application/json',\n        }\n    };\n    const body = JSON.stringify({ sop });\n    try {\n        const res = await axios.put(`/api/job/applications/${id}`, body, config);\n        dispatch({\n            type: APPLY_JOB,\n            payload: { id, applications: res.data }\n        })\n        dispatch(addMyapplication(id, sop));\n        history.push('/dashboard');\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n}\n\n// edit job\nexport const editJob = (id, formData, history) => async dispatch => {\n    const config = {\n        'headers': {\n            'Content-Type': 'application/json',\n        }\n    };\n    try {\n        const res = await axios.put(`/api/job/edit/${id}`, formData, config);\n        dispatch({\n            type: EDIT_JOB,\n            payload: { id, job: res.data }\n        });\n        dispatch(setAlert(\"Job Edit\", \"success\"));\n\n        history.push('/dashboard');\n\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// delete a job\nexport const deleteJob = (id) => async dispatch => {\n    try {\n        await axios.delete(`/api/job/delete/${id}`);\n        dispatch({\n            type: DELETE_JOB,\n            payload: id\n        })\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// rate job\n\nexport const rateJob = (rate, id) => async dispatch => {\n    const config = {\n        'headers': {\n            'Content-Type': 'application/json',\n        }\n    };\n    const body = JSON.stringify({ rate });\n    try {\n        await axios.put(`/api/job/rate/${id}`, body, config);\n        dispatch(getAppliedJobs());\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n        dispatch({\n            type: JOB_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n"]},"metadata":{},"sourceType":"module"}